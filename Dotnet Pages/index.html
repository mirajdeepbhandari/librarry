<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookHaven - Private Book Library</title>
    <!-- Add Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Open+Sans:wght@300;400;600&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    

</head>
<body>
    <!-- Announcement Banner -->
    <div class="announcement" id="announcement">
        <div class="container">
            <p>ðŸŽ‰ Summer Sale! Get 10% off on all books until June 30th. Use code: SUMMER10</p>
            <button class="close-btn" id="close-announcement">&times;</button>
        </div>
    </div>

   <header>
        <div class="container">
            <div class="logo">
                <h1>BookHaven</h1>
            </div>
            <nav>
                <div class="hamburger">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="categories.html" class="active">Categories</a></li>

                </ul>
            </nav>
            <div class="user-actions">
                <button class="icon-btn" id="search-btn">
                    <i class="fas fa-search"></i>
                </button>
                <a href="bookmark.html" class="icon-btn" id="wishlist-btn">
                        <i class="fas fa-heart"></i>
                        <span class="badge">3</span>
                    </a>

                <a href="cart.html" class="icon-btn" id="cart-btn">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="badge">2</span>
                </a>


                <a href="#" class="logout-btn" id="logout-btn">
                    <span class="logout-icon"></span>
                    <span class="icon-text">Logout</span>
                </a>
            </div>
        </div>
    </header>

    <!-- New Filter Section -->
   <section class="filter-section1">
    <div class="container1">
        <div class="filter-header1">
            <button class="filter-toggle-btn1" id="filter-toggle1">
                <i class="fas fa-filter"></i> Filter Options
            </button>
        </div>

        <div class="filter-container1" id="filter-container1">
            <div class="filter-row1">
                <div class="filter-group1">
                    <h3>Author</h3>
                    <div class="filter-options1">
                        <label class="filter-option1"><input type="checkbox" name="brand" value="Brand A"> Brand A</label>
                      
                    </div>
                </div>
                <div class="filter-group1">
                    <h3>Genre</h3>
                    <div class="filter-options1">
                        
                        <label class="filter-option1"><input type="checkbox" name="category" value="Category 4"> Category 4</label>
                    </div>
                </div>
                <div class="filter-group1">
                    <h3>Ratings</h3>
                    <div class="filter-options1">
                        <label class="filter-option1"><input type="checkbox" name="rating" value="4"> 4 Stars & Up</label>
                        <label class="filter-option1"><input type="checkbox" name="rating" value="3"> 3 Stars & Up</label>
                        <label class="filter-option1"><input type="checkbox" name="rating" value="2"> 2 Stars & Up</label>
                        <label class="filter-option1"><input type="checkbox" name="rating" value="1"> 1 Star & Up</label>
                    </div>
                </div>
            </div>
            <div class="filter-row1">
                <div class="filter-group1">
                    <h3>Price Range</h3>
                    <div class="price-range1">
                        <div class="price-inputs1">
                            <div class="price-input1">
                                <label for="min-price1">Min:</label>
                                <input type="number" id="min-price1" name="min-price" value="0" min="0">
                            </div>
                            <div class="price-input1">
                                <label for="max-price1">Max:</label>
                                <input type="number" id="max-price1" name="max-price" value="1000" min="0">
                            </div>
                        </div>
                      
                    </div>
                </div>
                <div class="filter-group1">
                    <h3>Availability</h3>
                    <div class="filter-options1">
                        <label class="filter-option1"><input type="checkbox" name="availability" value="in-stock"> In Stock</label>
                        <label class="filter-option1"><input type="checkbox" name="availability" value="out-of-stock"> Out of Stock</label>
                    </div>
                </div>
                <div class="filter-group1">
                    <h3>Languages and format</h3>
                    <div class="filter-subgroup1">
                        <h4>Languages</h4>
                        <div class="filter-options1">
                            <label class="filter-option1"><input type="checkbox" name="color" value="Red"> English</label>
                            
                        </div>
                    </div>
                    <div class="filter-subgroup1">
                        <h4>Format</h4>
                        <div class="filter-options1">
                            
                            <label class="filter-option1"><input type="checkbox" name="size" value="Large"> Large</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="filter-actions1">
                <button class="filter-btn1 reset1">Reset</button>
                <button class="filter-btn1 apply1">Apply Filters</button>
            </div>
        </div>
    </div>
</section>


    <section class="stats">
        <div class="container">
            <div class="stat-item">
                <h3>10,000+</h3>
                <p>Books</p>
            </div>
            <div class="stat-item">
                <h3>5,000+</h3>
                <p>Members</p>
            </div>
            <div class="stat-item">
                <h3>500+</h3>
                <p>Daily Orders</p>
            </div>
            <div class="stat-item">
                <h3>98%</h3>
                <p>Happy Customers</p>
            </div>
        </div>
    </section>

    <section class="featured-books">
        <div class="container">
            <h2 class="section-title">Featured Books</h2>
            
            <div class="book-slider">
                <div class="slider-header">
                    <h3 class="slider-title">Bestsellers</h3>
                    
                </div>

                <div class="books-wrapper">
                    <div class="books-container">
                        <div class="book">
                        </div>
                       
                    </div>
                </div>

                <div class="slider-pagination" id="slider-pagination"></div>
            </div>
            
         
        </div>
    </section>

   

    <section class="cta">
        <div class="container">
            <h2>Join Our Membership Program</h2>
            <p>Become a member today to enjoy exclusive benefits, discounts, and early access to new releases and special editions.</p>
            <div class="cta-buttons">
                <a href="#" class="btn primary-btn">Sign Up</a>
                <a href="#" class="btn secondary-btn">Learn More</a>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section about">
                    <h3>About BookHaven</h3>
                    <p>BookHaven is a private book library store dedicated to providing quality books and exceptional service to our members. We've expanded our reach to offer online browsing and ordering with in-store pickup.</p>
                </div>
                <div class="footer-section links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="books.html">Books</a></li>
                        <li><a href="categories.html">Categories</a></li>
                        <li><a href="new-releases.html">New Releases</a></li>
                        <li><a href="membership.html">Membership</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-section contact">
                    <h3>Contact Us</h3>
                    <p><span>Address:</span> 123 Book Street, Literary Lane</p>
                    <p><span>Phone:</span> (123) 456-7890</p>
                    <p><span>Email:</span> info@bookhaven.com</p>
                    <div class="social-icons">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 BookHaven. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Cart Modal -->
    <div class="modal" id="cart-modal">
        <div class="modal-content">
            <span class="modal-close" id="close-cart">&times;</span>
            <div class="modal-header">
                <h3>Your Cart</h3>
            </div>
            <div class="modal-body">
                <div class="cart-items">
                    <div class="cart-item">
                        <img src="https://source.unsplash.com/random/60x80/?book,gatsby" alt="Book cover" class="cart-item-img">
                        <div class="cart-item-info">
                            <div class="cart-item-title">The Great Gatsby</div>
                            <div class="cart-item-price">$19.99</div>
                        </div>
                        <div class="cart-item-remove">&times;</div>
                    </div>
                    <div class="cart-item">
                        <img src="https://source.unsplash.com/random/60x80/?book,hobbit" alt="Book cover" class="cart-item-img">
                        <div class="cart-item-info">
                            <div class="cart-item-title">The Hobbit</div>
                            <div class="cart-item-price">$19.54</div>
                        </div>
                        <div class="cart-item-remove">&times;</div>
                    </div>
                </div>
                <div class="cart-total">
                    <span>Total:</span>
                    <span>$39.53</span>
                </div>
                <div class="discount-info">You're eligible for a 5% discount on this order!</div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn secondary">Continue Shopping</button>
                <button class="modal-btn primary">Checkout</button>
            </div>
        </div>
    </div>

    <!-- Add Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="scripts.js"></script>

  <script>

function fetchBooks() {
    const booksContainer = document.querySelector(".books-container");
    booksContainer.innerHTML = "<div class='loading'>Loading bestsellers...</div>";

    fetch("http://localhost:5085/api/Book/GetAllBooks")
        .then((response) => {
            if (!response.ok) throw new Error("Network response was not ok");
            return response.json();
        })
        .then((data) => {
            const booksArray = Array.isArray(data.data) ? data.data : [];
            const bestsellers = booksArray
                .filter((book) => book.isBestseller === true)
                .slice(0, 4); // Only take first 4 bestsellers

            if (bestsellers.length === 0) {
                booksContainer.innerHTML = "<div class='no-books'>No bestsellers available.</div>";
                return;
            }

            booksContainer.innerHTML = ""; // Clear loading

            bestsellers.forEach((book) => {
                const {
                    id,
                    title,
                    authorName,
                    price,
                    format,
                    coverImageUrl,
                    inventory
                } = book;

                const quantityInStock = inventory?.quantityInStock ?? 0;
                const isAvailable = inventory?.isAvailable ?? false;

                const bookDiv = document.createElement("div");
                bookDiv.className = "book";

                bookDiv.innerHTML = `
                    <div class="book-category">${format || "Unknown Format"}</div>
                    <div class="book-cover" style="background-image: url('${coverImageUrl || "https://source.unsplash.com/random/200x300/?book"}')"></div>
                    <div class="book-info">
                        <h3>${title}</h3>
                        <p>${authorName}</p>
                        <div class="book-meta">
                            <div>$${price.toFixed(2)}</div>
                        </div>
                        <div class="book-status ${isAvailable ? "available" : "unavailable"}">
                            ${isAvailable ? `In Stock (${quantityInStock})` : "Out of Stock"}
                        </div>
                        <div class="book-actions">
                            <div class="book-btn primary">Add to Cart</div>
                            <div class="book-btn secondary">â™¡</div>
                        </div>
                    </div>
                `;

                // Navigate to product detail on click
                bookDiv.addEventListener("click", () => {
                    window.location.href = `product-detail.html?id=${id}`;
                });

                booksContainer.appendChild(bookDiv);
            });
        })
        .catch((error) => {
            console.error("Error fetching bestsellers:", error);
            booksContainer.innerHTML = `
                <div class="error-message">
                    <p>Failed to load bestsellers. Please try again later.</p>
                    <button class="retry-btn">Retry</button>
                </div>
            `;
            document.querySelector(".retry-btn").addEventListener("click", fetchBooks);
        });
}

document.addEventListener("DOMContentLoaded", fetchBooks);
</script>

   
   
</body>
</html>