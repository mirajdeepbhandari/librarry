<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Cart - BookHaven</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&family=Open+Sans:wght@300;400;600&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Additional Cart Page Styles */
        .cart-page {
            padding: 60px 0;
            min-height: 70vh;
        }
        
        .cart-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            padding: 30px;
            margin-bottom: 30px;
        }
        
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .cart-title {
            font-size: 1.5rem;
            margin: 0;
        }
        
        .cart-count {
            color: var(--text-light);
            font-size: 1rem;
        }
        
        .cart-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        
        .cart-table th {
            text-align: left;
            padding: 12px 15px;
            background-color: var(--light-color);
            font-weight: 600;
            color: var(--primary-color);
            font-size: 0.9rem;
        }
        
        .cart-table td {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
            vertical-align: middle;
        }
        
        .cart-item-info {
            display: flex;
            align-items: center;
        }
        
        .cart-item-img {
            width: 80px;
            height: 120px;
            object-fit: cover;
            border-radius: 4px;
            margin-right: 15px;
        }
        
        .cart-item-details h3 {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }
        
        .cart-item-details p {
            color: var(--text-light);
            margin-bottom: 5px;
            font-size: 0.9rem;
        }
        
        .cart-item-price {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .cart-item-sale {
            color: var(--danger-color);
            font-size: 0.85rem;
            margin-left: 5px;
        }
        
        .cart-quantity {
            display: flex;
            align-items: center;
            max-width: 120px;
        }
        
        .quantity-btn {
            width: 30px;
            height: 30px;
            background-color: var(--light-color);
            border: none;
            border-radius: 4px;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .quantity-btn:hover {
            background-color: var(--border-color);
        }
        
        .quantity-input {
            width: 40px;
            height: 30px;
            text-align: center;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin: 0 5px;
        }
        
        .cart-item-total {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .cart-item-remove {
            color: var(--danger-color);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            background: none;
            border: none;
            padding: 5px;
        }
        
        .cart-item-remove:hover {
            transform: scale(1.2);
        }
        
        .cart-summary {
            background-color: var(--light-color);
            border-radius: 8px;
            padding: 25px;
        }
        
        .summary-title {
            font-size: 1.2rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .summary-label {
            color: var(--text-color);
        }
        
        .summary-value {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .summary-discount {
            color: var(--success-color);
        }
        
        .summary-total {
            font-size: 1.2rem;
            padding-top: 15px;
            margin-top: 15px;
            border-top: 2px solid var(--border-color);
        }
        
        .cart-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .continue-shopping {
            display: flex;
            align-items: center;
            color: var(--primary-color);
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .continue-shopping i {
            margin-right: 8px;
        }
        
        .continue-shopping:hover {
            color: var(--secondary-color);
        }
        
        .checkout-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 4px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .checkout-btn:hover {
            background-color: #d35400;
            transform: translateY(-2px);
        }
        
        .checkout-btn:active {
            transform: translateY(0);
        }
        
        .empty-cart {
            text-align: center;
            padding: 60px 20px;
        }
        
        .empty-cart-icon {
            font-size: 4rem;
            color: var(--text-light);
            margin-bottom: 20px;
        }
        
        .empty-cart h3 {
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .empty-cart p {
            color: var(--text-light);
            margin-bottom: 25px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .empty-cart-btn {
            display: inline-block;
            padding: 10px 25px;
            background-color: var(--secondary-color);
            color: white;
            border-radius: 4px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .empty-cart-btn:hover {
            background-color: #d35400;
            color: white;
            transform: translateY(-2px);
        }
        
        .discount-badge {
            display: inline-block;
            padding: 3px 8px;
            background-color: rgba(39, 174, 96, 0.1);
            color: var(--success-color);
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .discount-info {
            background-color: rgba(39, 174, 96, 0.1);
            border: 1px solid rgba(39, 174, 96, 0.2);
            border-radius: 4px;
            padding: 10px 15px;
            margin-top: 20px;
            color: var(--success-color);
            font-size: 0.9rem;
        }
        
        .discount-info i {
            margin-right: 5px;
        }
        
        /* Responsive styles */
        @media (max-width: 992px) {
            .cart-container {
                padding: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .cart-table thead {
                display: none;
            }
            
            .cart-table, .cart-table tbody, .cart-table tr, .cart-table td {
                display: block;
                width: 100%;
            }
            
            .cart-table tr {
                margin-bottom: 20px;
                border-bottom: 2px solid var(--border-color);
                position: relative;
            }
            
            .cart-table td {
                text-align: right;
                padding-left: 50%;
                position: relative;
                border-bottom: 1px solid var(--border-color);
            }
            
            .cart-table td:before {
                content: attr(data-label);
                position: absolute;
                left: 15px;
                width: 50%;
                padding-right: 15px;
                font-weight: 600;
                text-align: left;
            }
            
            .cart-item-info {
                justify-content: flex-end;
            }
            
            .cart-item-img {
                margin-right: 0;
                margin-left: 15px;
            }
            
            .cart-actions {
                flex-direction: column;
                gap: 15px;
            }
            
            .checkout-btn {
                width: 100%;
            }
        }
        
        @media (max-width: 576px) {
            .cart-table td {
                padding-left: 35%;
            }
            
            .cart-table td:before {
                width: 35%;
            }
            
            .cart-item-img {
                width: 60px;
                height: 90px;
            }
        }
    </style>
</head>
<body>

    <section class="page-header">
        <div class="container">
            <h2>Your Shopping Cart</h2>
            <p>Review your items and proceed to checkout</p>
        </div>
    </section>

    <section class="cart-page">
        <div class="container">
            <!-- Cart with items (default view) -->
            <div class="cart-container" id="cart-with-items">
                <div class="cart-header">
                    <h3 class="cart-title">Shopping Cart</h3>
                    <span class="cart-count">4 Items</span>
                </div>
                
                <table class="cart-table">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Price</th>
                            <th>Quantity</th>
                            <th>Total</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Product">
                                <div class="cart-item-info">
                                    <img src="https://source.unsplash.com/random/80x120/?book,gatsby" alt="The Great Gatsby" class="cart-item-img">
                                    <div class="cart-item-details">
                                        <h3>The Great Gatsby</h3>
                                        <p>F. Scott Fitzgerald</p>
                                        <p>Format: Hardcover</p>
                                    </div>
                                </div>
                            </td>
                            <td data-label="Price" class="cart-item-price">$19.99</td>
                            <td data-label="Quantity">
                                <div class="cart-quantity">
                                    <button class="quantity-btn decrement">-</button>
                                    <input type="number" min="1" max="10" value="1" class="quantity-input">
                                    <button class="quantity-btn increment">+</button>
                                </div>
                            </td>
                            <td data-label="Total" class="cart-item-total">$19.99</td>
                            <td>
                                <button class="cart-item-remove" title="Remove item">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td data-label="Product">
                                <div class="cart-item-info">
                                    <img src="https://source.unsplash.com/random/80x120/?book,mockingbird" alt="To Kill a Mockingbird" class="cart-item-img">
                                    <div class="cart-item-details">
                                        <h3>To Kill a Mockingbird</h3>
                                        <p>Harper Lee</p>
                                        <p>Format: Paperback</p>
                                    </div>
                                </div>
                            </td>
                            <td data-label="Price" class="cart-item-price">
                                $19.99 <span class="cart-item-sale"><s>$24.99</s></span>
                                <span class="discount-badge">20% OFF</span>
                            </td>
                            <td data-label="Quantity">
                                <div class="cart-quantity">
                                    <button class="quantity-btn decrement">-</button>
                                    <input type="number" min="1" max="10" value="1" class="quantity-input">
                                    <button class="quantity-btn increment">+</button>
                                </div>
                            </td>
                            <td data-label="Total" class="cart-item-total">$19.99</td>
                            <td>
                                <button class="cart-item-remove" title="Remove item">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td data-label="Product">
                                <div class="cart-item-info">
                                    <img src="https://source.unsplash.com/random/80x120/?book,hobbit" alt="The Hobbit" class="cart-item-img">
                                    <div class="cart-item-details">
                                        <h3>The Hobbit</h3>
                                        <p>J.R.R. Tolkien</p>
                                        <p>Format: Hardcover</p>
                                    </div>
                                </div>
                            </td>
                            <td data-label="Price" class="cart-item-price">
                                $19.54 <span class="cart-item-sale"><s>$22.99</s></span>
                                <span class="discount-badge">15% OFF</span>
                            </td>
                            <td data-label="Quantity">
                                <div class="cart-quantity">
                                    <button class="quantity-btn decrement">-</button>
                                    <input type="number" min="1" max="10" value="1" class="quantity-input">
                                    <button class="quantity-btn increment">+</button>
                                </div>
                            </td>
                            <td data-label="Total" class="cart-item-total">$19.54</td>
                            <td>
                                <button class="cart-item-remove" title="Remove item">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td data-label="Product">
                                <div class="cart-item-info">
                                    <img src="https://source.unsplash.com/random/80x120/?book,1984" alt="1984" class="cart-item-img">
                                    <div class="cart-item-details">
                                        <h3>1984</h3>
                                        <p>George Orwell</p>
                                        <p>Format: Paperback</p>
                                    </div>
                                </div>
                            </td>
                            <td data-label="Price" class="cart-item-price">$15.99</td>
                            <td data-label="Quantity">
                                <div class="cart-quantity">
                                    <button class="quantity-btn decrement">-</button>
                                    <input type="number" min="1" max="10" value="1" class="quantity-input">
                                    <button class="quantity-btn increment">+</button>
                                </div>
                            </td>
                            <td data-label="Total" class="cart-item-total">$15.99</td>
                            <td>
                                <button class="cart-item-remove" title="Remove item">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="row">
                    <div class="col-md-6">
                        <div class="discount-info">
                            <i class="fas fa-tag"></i> You qualify for a 5% discount on this order for purchasing 4 or more books!
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="cart-summary">
                            <h4 class="summary-title">Order Summary</h4>
                            <div class="summary-row">
                                <span class="summary-label">Subtotal (4 items)</span>
                                <span class="summary-value">$75.51</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Discount (5%)</span>
                                <span class="summary-value summary-discount">-$3.78</span>
                            </div>
                            <div class="summary-row">
                                <span class="summary-label">Member Discount (10%)</span>
                                <span class="summary-value summary-discount">-$7.17</span>
                            </div>
                            <div class="summary-row summary-total">
                                <span class="summary-label">Total</span>
                                <span class="summary-value">$64.56</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="cart-actions">
                    <a href="index.html" class="continue-shopping">
                        <i class="fas fa-arrow-left"></i> Continue Shopping
                    </a>
                    <a href="order.html" class="checkout-btn">Proceed to Checkout</a>
                </div>
            </div>
            
            <!-- Empty cart (hidden by default) -->
            <div class="empty-cart" id="empty-cart" style="display: none;">
                <div class="empty-cart-icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <h3>Your Cart is Empty</h3>
                <p>Looks like you haven't added any books to your cart yet. Browse our collection and find your next favorite read!</p>
                <a href="index.html" class="empty-cart-btn">Browse Books</a>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section about">
                    <h3>About BookHaven</h3>
                    <p>BookHaven is a private book library store dedicated to providing quality books and exceptional service to our members. We've expanded our reach to offer online browsing and ordering with in-store pickup.</p>
                </div>
                <div class="footer-section links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="books.html">Books</a></li>
                        <li><a href="categories.html">Categories</a></li>
                        <li><a href="new-releases.html">New Releases</a></li>
                        <li><a href="membership.html">Membership</a></li>
                        <li><a href="faq.html">FAQ</a></li>
                    </ul>
                </div>
                <div class="footer-section contact">
                    <h3>Contact Us</h3>
                    <p><span>Address:</span> 123 Book Street, Literary Lane</p>
                    <p><span>Phone:</span> (123) 456-7890</p>
                    <p><span>Email:</span> info@bookhaven.com</p>
                    <div class="social-icons">
                        <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-pinterest"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 BookHaven. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile Navigation Toggle
            const hamburger = document.querySelector('.hamburger');
            const navLinks = document.querySelector('.nav-links');
            
            hamburger.addEventListener('click', function() {
                navLinks.classList.toggle('active');
                document.body.classList.toggle('no-scroll');
                
                // Animate hamburger to X
                const lines = document.querySelectorAll('.hamburger .line');
                lines.forEach(line => line.classList.toggle('active'));
            });
            
            // Close mobile menu when clicking outside
            document.addEventListener('click', function(event) {
                if (!hamburger.contains(event.target) && !navLinks.contains(event.target) && navLinks.classList.contains('active')) {
                    navLinks.classList.remove('active');
                    document.body.classList.remove('no-scroll');
                    
                    const lines = document.querySelectorAll('.hamburger .line');
                    lines.forEach(line => line.classList.remove('active'));
                }
            });
            
            // Quantity buttons functionality
            const decrementBtns = document.querySelectorAll('.quantity-btn.decrement');
            const incrementBtns = document.querySelectorAll('.quantity-btn.increment');
            
            decrementBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const input = this.nextElementSibling;
                    let value = parseInt(input.value);
                    if (value > 1) {
                        input.value = value - 1;
                        updateCartItemTotal(this);
                        updateCartSummary();
                    }
                });
            });
            
            incrementBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const input = this.previousElementSibling;
                    let value = parseInt(input.value);
                    if (value < 10) {
                        input.value = value + 1;
                        updateCartItemTotal(this);
                        updateCartSummary();
                    }
                });
            });
            
            // Quantity input change
            const quantityInputs = document.querySelectorAll('.quantity-input');
            quantityInputs.forEach(input => {
                input.addEventListener('change', function() {
                    let value = parseInt(this.value);
                    if (isNaN(value) || value < 1) {
                        this.value = 1;
                    } else if (value > 10) {
                        this.value = 10;
                    }
                    updateCartItemTotal(this);
                    updateCartSummary();
                });
            });
            
            // Update cart item total
            function updateCartItemTotal(element) {
                const row = element.closest('tr');
                const priceElement = row.querySelector('.cart-item-price');
                const totalElement = row.querySelector('.cart-item-total');
                const quantityInput = row.querySelector('.quantity-input');
                
                // Extract the price (handle sale prices)
                let priceText = priceElement.textContent;
                let price = parseFloat(priceText.match(/\$(\d+\.\d+)/)[1]);
                
                // Calculate total
                let quantity = parseInt(quantityInput.value);
                let total = price * quantity;
                
                // Update total
                totalElement.textContent = '$' + total.toFixed(2);
            }
            
            // Update cart summary
            function updateCartSummary() {
                const totalElements = document.querySelectorAll('.cart-item-total');
                let subtotal = 0;
                
                totalElements.forEach(element => {
                    subtotal += parseFloat(element.textContent.replace('$', ''));
                });
                
                // Update subtotal
                document.querySelector('.summary-row:nth-child(1) .summary-value').textContent = '$' + subtotal.toFixed(2);
                
                // Calculate discounts
                const itemCount = document.querySelectorAll('.cart-table tbody tr').length;
                let discount5Percent = 0;
                let discount10Percent = 0;
                
                // 5% discount for 5 or more books
                if (itemCount >= 4) {
                    discount5Percent = subtotal * 0.05;
                    document.querySelector('.summary-row:nth-child(2) .summary-value').textContent = '-$' + discount5Percent.toFixed(2);
                    document.querySelector('.discount-info').style.display = 'block';
                } else {
                    document.querySelector('.summary-row:nth-child(2) .summary-value').textContent = '-$0.00';
                    document.querySelector('.discount-info').style.display = 'none';
                }
                
                // 10% member discount (assuming the user has earned it)
                discount10Percent = subtotal * 0.10;
                document.querySelector('.summary-row:nth-child(3) .summary-value').textContent = '-$' + discount10Percent.toFixed(2);
                
                // Calculate total
                const total = subtotal - discount5Percent - discount10Percent;
                document.querySelector('.summary-total .summary-value').textContent = '$' + total.toFixed(2);
                
                // Update cart count
                document.querySelector('.cart-count').textContent = itemCount + ' Items';
                document.querySelector('.badge').textContent = itemCount;
            }
            
            // Remove cart item
            const removeButtons = document.querySelectorAll('.cart-item-remove');
            removeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const row = this.closest('tr');
                    const itemTitle = row.querySelector('h3').textContent;
                    
                    if (confirm(`Remove "${itemTitle}" from your cart?`)) {
                        row.remove();
                        updateCartSummary();
                        
                        // Check if cart is empty
                        const remainingItems = document.querySelectorAll('.cart-table tbody tr').length;
                        if (remainingItems === 0) {
                            document.getElementById('cart-with-items').style.display = 'none';
                            document.getElementById('empty-cart').style.display = 'block';
                        }
                    }
                });
            });
            
            // Initialize cart summary
            updateCartSummary();
        });
    </script>
</body>
</html>